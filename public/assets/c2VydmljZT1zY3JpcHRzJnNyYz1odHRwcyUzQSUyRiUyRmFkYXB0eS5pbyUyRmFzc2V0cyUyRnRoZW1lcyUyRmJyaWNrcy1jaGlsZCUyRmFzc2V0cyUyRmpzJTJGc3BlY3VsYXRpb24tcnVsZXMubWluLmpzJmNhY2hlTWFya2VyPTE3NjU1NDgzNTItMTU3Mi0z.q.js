document.addEventListener("DOMContentLoaded",()=>{(()=>{let e,r=window.location.hostname,t=document.querySelector("script.asr-default"),s=[];if(t)try{let a=JSON.parse(t.textContent);s=a.prefetch.map(e=>e.urls).flat()}catch(l){console.error("Failed to parse speculationrules:",l)}function n(e,t="asr-hover"){let a=new URL(e).hostname;if(a!==r)return;let l=document.querySelectorAll("link.asr-hover[data-prerender], script.asr-hover[data-prerender], link.asr-focus[data-prerender], script.asr-focus[data-prerender]");for(let n of l)if(n.getAttribute("data-prerender")===e)return;if(s.includes(e))return;let o=document.querySelectorAll("link.asr-hover, link.asr-focus, script.asr-hover, script.asr-focus");if(o.forEach(e=>e.remove()),HTMLScriptElement.supports&&HTMLScriptElement.supports("speculationrules")){let i=document.createElement("script");i.type="speculationrules",i.classList.add(t),i.setAttribute("data-prerender",e),i.textContent=JSON.stringify({prefetch:[{source:"list",urls:[e]},]}),document.body.append(i)}else{let c=document.createElement("link");c.rel="prefetch",c.href=e,c.classList.add(t),c.setAttribute("data-prerender",e),document.head.append(c)}}document.addEventListener("mouseover",e=>{let r=e.target.closest("a[href]");r&&!r.href.startsWith("#")&&r.href&&n(r.href,"asr-hover")}),document.addEventListener("focusin",r=>{let t=r.target.closest("a[href]");t&&!t.href.startsWith("#")&&t.href&&(clearTimeout(e),t.classList.add("asr-focus"),e=setTimeout(()=>{n(t.href,"asr-focus")},800))}),document.addEventListener("focusout",r=>{clearTimeout(e)})})()});